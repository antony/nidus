<div class="container">
	<div class="columns">
		<div class="column col-12">
			<button class="btn btn-link btn-action btn-lg float-right" on:click="logout()">
				<i class="icon icon-shutdown"></i>
			</button>
		</div>
	</div>
	<div class="columns">
		<div class="column col-12">
			{{#if state === 'login'}}
			<Login />
			{{/if}}
			{{#if state === 'setup'}}
			<Initialise />
			{{/if}}
			{{#if state === 'generate'}}
			<Generate />
			{{/if}}
		</div>
	</div>
</div>

<script>
	import 'spectre.css/dist/spectre.css'
	import 'spectre.css/dist/spectre-icons.css'
	import Login from '../login/component.html'
	import Initialise from '../initialise/component.html'
	import Generate from '../generate/component.html'
	const { ipcRenderer } = window.require('electron')

  export default {
		oncreate () {
			ipcRenderer.on('state:change', (event, { state }) => {
        this.set({ state })
			})
			ipcRenderer.send('application:bootstrap')
		},

		methods: {
      logout () {
        this.set({ state: 'login' })
      }
		},

		components: {
			Initialise,
			Login,
			Generate
		}
  }
</script>