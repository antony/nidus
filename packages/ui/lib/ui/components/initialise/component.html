<header class="toolbar toolbar-header">
  <h1 class="title">Setup</h1>
</header>
<div class="window-content">
  <form>
    <p>
      No configuration found, so we'll create a new one.
    </p>
    <div class="form-group">
      <label>Master password</label>
      <input class="form-control" bind:value="password" type="password" />
    </div>
    <div class="form-group">
      <label>Password length (characters)</label>
      <input class="form-control" bind:value="keyLength" type="number" />
    </div>
    <div class="form-group">
      <label>Readable password length (words)</label>
      <input class="form-control" bind:value="readableLength" type="number" />
    </div>
  </form>
</div>
<footer class="toolbar toolbar-footer">
  <div class="toolbar-actions">
    <button on:click="configure()" class="btn btn-primary pull-right">
      Save
    </button>
  </div>
</footer>

<script>
  const { ipcRenderer } = window.require('electron')

  export default {
    data () {
      return {
        password: '',
        keyLength: 16,
        readableLength: 8
      }
    },

    oncreate () {
      ipcRenderer.on('reload', () => {
        console.log('reload')
      })
    },

    methods: {
      configure () {
        const password = this.get('password')
        const keyLength = this.get('keyLength')
        const readableLength = this.get('readableLength')
        ipcRenderer.send('config:save', { password, keyLength, readableLength })
      }
    }
  }
</script>